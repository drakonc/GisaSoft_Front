
<div class="space-y-8">
  <!-- Stats Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6">
    @for (stat of stats(); track stat.title) {
      <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
        <div class="flex justify-between items-start">
          <div class="w-12 h-12 rounded-lg flex items-center justify-center" [class]="stat.iconBg">
            <svg class="h-6 w-6" [class]="(stat.title === 'Pacientes Activos' ? 'text-blue-500' : (stat.title === 'Citas Hoy' ? 'text-indigo-500' : (stat.title === 'Total de Pacientes' ? 'text-emerald-500' : 'text-rose-500')))" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path [attr.d]="stat.iconPath" />
            </svg>
          </div>
        </div>
        <div class="mt-2">
          <p class="text-xs text-gray-500">{{ stat.title }}</p>
          <p class="text-2xl font-bold text-gray-800">{{ stat.value }}</p>
          <div class="text-xs font-medium px-2 py-1 rounded-md mt-2 inline-flex items-center space-x-1" [class]="getChangeClass(stat.changeType)">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
              @if (stat.changeType === 'increase') { <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" /> }
            </svg>
            <span>{{ stat.change }}</span>
          </div>
        </div>
      </div>
    }
  </div>

  <!-- Main Section Grid -->
  <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
    <!-- Nuevos Pacientes -->
    <div class="xl:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100">
      <h3 class="font-semibold text-gray-800">Nuevos Pacientes por Mes</h3>
      <div class="flex mt-8 h-48">
        <div class="flex flex-col justify-between text-xs text-gray-400">
          <span>50</span><span>40</span><span>30</span><span>20</span><span>10</span>
        </div>
        <div class="w-full flex justify-around items-end ml-4">
          @for (data of revenueData(); track data.month) {
            <div class="flex flex-col items-center w-1/12">
              <div class="w-full flex items-end h-full">
                <div class="bg-blue-500 rounded-t-md w-1/2 mx-auto" [style.height.%]="data.value * 2"></div>
              </div>
              <span class="text-xs text-gray-400 mt-2">{{ data.month }}</span>
            </div>
          }
        </div>
      </div>
    </div>
    
    <!-- Citas Recientes -->
    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
      <h3 class="font-semibold text-gray-800">Citas Recientes</h3>
      <ul class="mt-4 space-y-4">
        @for (appointment of recentAppointments(); track appointment.patientName) {
          <li class="flex items-center">
            <img class="w-10 h-10 rounded-full object-cover" [src]="appointment.patientImage" alt="Patient photo">
            <div class="ml-4 flex-grow">
              <p class="text-sm font-semibold text-gray-800">{{ appointment.patientName }}</p>
              <p class="text-xs text-gray-500">{{ appointment.doctorName }}</p>
            </div>
            <div class="text-right">
              <p class="text-xs text-gray-500 font-medium">{{ appointment.time }}</p>
              <p class="text-xs font-semibold" [class]="getStatusClass(appointment.status)">{{ appointment.status }}</p>
            </div>
          </li>
        }
      </ul>
    </div>
  </div>
</div>
